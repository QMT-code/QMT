{"SurveyEntry":{"SurveyID":"SV_2biKutqjg6le5jU","SurveyName":"QMT (Step-by-step code)","SurveyDescription":null,"SurveyOwnerID":"UR_4YgJeO8X9cMtYuF","SurveyBrandID":"utah","DivisionID":"DV_ezIfiGmUcZ4Vb81","SurveyLanguage":"EN","SurveyActiveResponseSet":"RS_72sakTQyehH8JNA","SurveyStatus":"Active","SurveyStartDate":"0000-00-00 00:00:00","SurveyExpirationDate":"0000-00-00 00:00:00","SurveyCreationDate":"2025-09-11 13:52:32","CreatorID":"UR_4YgJeO8X9cMtYuF","LastModified":"2025-09-12 22:24:43","LastAccessed":"0000-00-00 00:00:00","LastActivated":"2025-09-11 14:15:40","Deleted":null},"SurveyElements":[{"SurveyID":"SV_2biKutqjg6le5jU","Element":"BL","PrimaryAttribute":"Survey Blocks","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":[{"Type":"Default","Description":"Sample from step-by-step guide","ID":"BL_doLLNrXcXrujGC2","BlockElements":[{"Type":"Question","QuestionID":"QID1"},{"Type":"Question","QuestionID":"QID2"}]},{"Type":"Trash","Description":"Trash \/ Unused Questions","ID":"BL_cBxBoxzPIzaP9Km","BlockElements":[{"Type":"Question","QuestionID":"QID3"}]}]},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"FL","PrimaryAttribute":"Survey Flow","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"Type":"Root","FlowID":"FL_1","Flow":[{"Type":"EmbeddedData","FlowID":"FL_3","EmbeddedData":[{"Description":"timeList","Type":"Recipient","Field":"timeList","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"regionList","Type":"Recipient","Field":"regionList","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"mainSequence","Type":"Recipient","Field":"mainSequence","VariableType":"String","DataVisibility":[],"AnalyzeText":false},{"Description":"period","Type":"Custom","Field":"period","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"1"},{"Description":"delayInMs","Type":"Custom","Field":"delayInMs","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"25"},{"Description":"debugMode","Type":"Custom","Field":"debugMode","VariableType":"String","DataVisibility":[],"AnalyzeText":false,"Value":"1"}]},{"Type":"Block","ID":"BL_doLLNrXcXrujGC2","FlowID":"FL_2","Autofill":[]}],"Properties":{"Count":3}}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"PL","PrimaryAttribute":"Preview Link","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"PreviewType":"Brand","PreviewID":"7758d9c8-beba-4104-beac-7bed3fb98247"}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"PROJ","PrimaryAttribute":"CORE","SecondaryAttribute":null,"TertiaryAttribute":"1.1.0","Payload":{"ProjectCategory":"CORE","SchemaVersion":"1.1.0"}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"QC","PrimaryAttribute":"Survey Question Count","SecondaryAttribute":"3","TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"RS","PrimaryAttribute":"RS_72sakTQyehH8JNA","SecondaryAttribute":"Default Response Set","TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"SCO","PrimaryAttribute":"Scoring","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"ScoringCategories":[],"ScoringCategoryGroups":[],"ScoringSummaryCategory":null,"ScoringSummaryAfterQuestions":0,"ScoringSummaryAfterSurvey":0,"DefaultScoringCategory":null,"AutoScoringCategory":null}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"SO","PrimaryAttribute":"Survey Options","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"BackButton":"false","SaveAndContinue":"true","SurveyProtection":"PublicSurvey","BallotBoxStuffingPrevention":"false","NoIndex":"Yes","SecureResponseFiles":"true","SurveyExpiration":"None","SurveyTermination":"DefaultMessage","Header":"","Footer":"","ProgressBarDisplay":"None","PartialData":"+1 week","ValidationMessage":"","PreviousButton":" \u2190 ","NextButton":" \u2192 ","SurveyTitle":"Qualtrics Survey | Qualtrics Experience Management","SkinLibrary":"utah","SkinType":"templated","Skin":{"brandingId":null,"templateId":"*base","overrides":null},"NewScoring":1,"SurveyMetaDescription":"The most powerful, simple and trusted way to gather experience data. Start your journey to experience management and try a free account today.","SurveyName":"QMT (Step-by-step code)","CustomStyles":{"customCSS":"\/* Button styling *\/\n.custom-next-button {\n\/* Modify this background-color with your theme color (\"primary color\") in look and feel *\/\n    background-color: #007AC0;\n    color: #FFFFFF !important;\n    padding: 12px 24px;\n    font-size: 16px;\n    font-weight: bold;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    margin-top: 20px;\n}\n\/* Hovering aesthetics *\/\n.custom-next-button:hover {\n    filter: brightness(0.90); \n}\n.custom-next-button:active {\n    filter: brightness(0.85);  \n}\n\/* Button position *\/\n.button-container {\n    text-align: center;\n    margin-top: 30px;\n}\n"}}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"SQ","PrimaryAttribute":"QID1","SecondaryAttribute":"This is some placeholder text that occurs before your mouse-tracked table.","TertiaryAttribute":null,"Payload":{"QuestionText":"This is some placeholder text that occurs before your mouse-tracked table.\n<table border = \"1\">\n\t<tbody>\n\t\t<tr>\n  \t\t  <td id=\"Region1\" style=\"width: 300px; height: 300px;\" onmouseenter=\"showR1()\" onmouseleave=\"hideR1()\"><\/td>\n   \t\t  <td id=\"Region2\" style=\"width: 300px; height: 300px;\" onmouseenter=\"showR2()\" onmouseleave=\"hideR2()\"><\/td>\t\t\n\t\t <\/tr>\n\t<\/tbody>\n<\/table>\n","DataExportTag":"QMT","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"This is some placeholder text that occurs before your mouse-tracked table.","Choices":{"1":{"Display":"Click to write Choice 1"},"2":{"Display":"Click to write Choice 2"},"3":{"Display":"Click to write Choice 3"}},"ChoiceOrder":["1","2","3"],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID1","QuestionJS":"\/\/ Read lists from embedded data \n\tvar timeListString = \"${e:\/\/Field\/timeList}\";\n\tvar regionListString = \"${e:\/\/Field\/regionList}\";\n\tvar mainSequenceString = \"${e:\/\/Field\/mainSequence}\";\n\n\/\/ Convert to arrays (just sets type to array if empty)\n\tvar timeList = timeListString ? timeListString.split(\",\") : [];\n\tvar regionList = regionListString ? regionListString.split(\",\") : [];\n\tvar mainSequence = mainSequenceString ? mainSequenceString.split(\",\") : [];\n\n\/\/ Global timing tracking\nvar regionStartTimes = {};\nvar showTimeouts = {};\n\n\/\/ Delay variable\nvar delayInMs = parseInt(\"${e:\/\/Field\/delayInMs}\") || 0;\n\n\/\/ This is the number that will be appended to the embedded data list contents\nvar period = parseInt(\"${e:\/\/Field\/period}\") || 1;\n\n\/\/ Configuration object for all regions\n\/* \nYou should modify this code to reflect your study design.\nThe number of unique key-value mappings (e.g., \"Region1: {name: ...}\" is 1 such mapping) should reflect the number of mouse-tracked regions in your HTML. The key (e.g., \"Region1\") must match the id from each region in your HTML (e.g., \"<td id = \"Region1\" ...). The name value (for each key) should reflect some systematic naming convention that will allow you to identify the region. We use \"R1\", \"R2\", ... \"RK\" as names of Regions 1, 2, ... K. You will need to update your hiddenContent (hidden by default) and revealedContent (revealed by default) for each key. \n*\/\n\n\nvar regionConfig = {\n    \"Region1\": { \n        name: \"R1\", \n        hiddenContent: \"Region 1 Test\",\n        revealedContent: \"\"\t\t\n    },\n    \"Region2\": { \n        name: \"R2\", \n        hiddenContent: \"Region 2 Test\",\n        revealedContent: \"\"\t\t\n    }\n};\n\n\/\/ Function to initialize the HTML with revealedContent from JavaScript\nfunction initializeRegionContent() {\n    Object.keys(regionConfig).forEach(function(regionId) {\n        var element = document.getElementById(regionId);\n        if (element) {\n            element.textContent = regionConfig[regionId].revealedContent;\n        }\n    });\n}\n\n\/\/ Core functions\nfunction showRegion(regionId, hiddenContent) {\n    \/\/ Clear any pending show for this region\n    if (showTimeouts[regionId]) {\n        clearTimeout(showTimeouts[regionId]);\n        delete showTimeouts[regionId];\n    }\n    \n    \/\/ Delay show to stabilize fast mouse movements\n    showTimeouts[regionId] = setTimeout(function() {\n        var element = document.getElementById(regionId);\n        if (!element) return;\n        \n        \/\/ Only show if not already shown\n        if (!regionStartTimes[regionId]) {\n            element.innerHTML = hiddenContent;\n            regionStartTimes[regionId] = Date.now();\n        }\n        \n        delete showTimeouts[regionId];\n    }, delayInMs);\n}\n\nfunction hideRegion(regionId) {\n    \/\/ Clear any pending show for this region\n    if (showTimeouts[regionId]) {\n        clearTimeout(showTimeouts[regionId]);\n        delete showTimeouts[regionId];\n    }\n    \n    \/\/ Hide immediately - no delay\n    var element = document.getElementById(regionId);\n    if (!element) return;\n    \n    \/\/ Get the revealedContent from config\n    var config = regionConfig[regionId];\n    element.innerHTML = config.revealedContent;\n    \n    if (regionStartTimes[regionId]) {\n        \/\/ Calculate time spent\n        var timeSpentMs = Date.now() - regionStartTimes[regionId];\n        \n        \/\/ Update sequences\n        timeList.push(\"P\" + period + \"_\" + timeSpentMs);\n        regionList.push(\"P\" + period + \"_\" + config.name);\n        \n        \/\/ Update main sequence - add both region name and time\n        mainSequence.push(\"P\" + period + \"_\" + config.name + \":\" + timeSpentMs);\n        \n        \/\/ Write to the THREE embedded data fields\n        Qualtrics.SurveyEngine.setEmbeddedData(\"timeList\", timeList.join(\",\"));\n        Qualtrics.SurveyEngine.setEmbeddedData(\"regionList\", regionList.join(\",\"));\n        Qualtrics.SurveyEngine.setEmbeddedData(\"mainSequence\", mainSequence.join(\",\"));\n        \n        \/\/ Clean up\n        delete regionStartTimes[regionId];\n    }\n}\n\n\/\/ Dynamically generate show\/hide functions for each region\nObject.keys(regionConfig).forEach(function(regionId) {\n    var config = regionConfig[regionId];\n    \n    window[\"show\" + config.name] = function() {\n        showRegion(regionId, config.hiddenContent);\n    };\n    \n    window[\"hide\" + config.name] = function() {\n        hideRegion(regionId);\n    };\n});\n\n\nQualtrics.SurveyEngine.addOnload(function()\n{\n\t\/*Place your JavaScript here to run when the page loads*\/\n\ninitializeRegionContent();\t\t\n\t\n});\n\nQualtrics.SurveyEngine.addOnReady(function()\n{\n\t\/*Place your JavaScript here to run when the page is fully displayed*\/\n\t\nvar debugMode = parseInt(\"${e:\/\/Field\/debugMode}\") || 0;\n    \nif (debugMode == 1) {\n   var script = document.createElement('script');\n   script.src = 'https:\/\/cdn.jsdelivr.net\/gh\/QMT-code\/QMT\/QMT_debugging.js';\n   document.head.appendChild(script);\t\n}\t\n\t\n\t\nvar nextPeriod = period + 1;\nQualtrics.SurveyEngine.setEmbeddedData(\"period\", nextPeriod);\n\t\n\t\n    var tables = document.querySelectorAll('table');\n    tables.forEach(function(table) {\n        table.addEventListener('mouseleave', function() {\n            \/\/ Anytime a mouse leaves a table, ensure all regions are hidden\n            Object.keys(regionStartTimes).forEach(function(regionId) {\n                if (regionStartTimes[regionId]) {\n                    window[\"hide\" + regionConfig[regionId].name]();\n                }\n            });\n        });\n    });\t\n\t\n    var imagesToPreload = [\"https:\/\/www.ama.org\/wp-content\/themes\/ama\/assets\/images\/ama-logo-trans.png\", \"ANY OTHER URLS GO IN THIS ARRAY\"];\n    imagesToPreload.forEach(function(imageUrl) {\n        var img = new Image();\n        img.src = imageUrl;\n        \/\/ The browser will cache these automatically!\n    });\n\t\n\t\n\t\n});\n\nQualtrics.SurveyEngine.addOnUnload(function()\n{\n\t\/*Place your JavaScript here to run when the page is unloaded*\/\n\n});"}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"SQ","PrimaryAttribute":"QID2","SecondaryAttribute":"\u2192","TertiaryAttribute":null,"Payload":{"QuestionText":"<div class=\"button-container\">\n    <button type=\"button\" class=\"custom-next-button\" id=\"customNextBtn\">\n        &rarr;\n    <\/button>\n<\/div> \n","DefaultChoices":false,"DataExportTag":"CUSTOM NEXT BUTTON","QuestionType":"DB","Selector":"TB","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"\u2192","ChoiceOrder":[],"Validation":{"Settings":{"Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID2","QuestionJS":"Qualtrics.SurveyEngine.addOnload(function()\n{\n\t\/*Place your JavaScript here to run when the page loads*\/\n\n});\n\nQualtrics.SurveyEngine.addOnReady(function()\n{\n\t\/*Place your JavaScript here to run when the page is fully displayed*\/\n\n\t\/\/ This portion hides the default next button (only on this page)\nthis.hideNextButton();\t\n  \n  var that = this;\n    \/\/ Get reference to the custom button (HTML button id must match this!)\n    var customButton = jQuery(\"#customNextBtn\");\n    customButton.on('click', function() {\n        that.clickNextButton();\n    });\n\n\t\n});\n\nQualtrics.SurveyEngine.addOnUnload(function()\n{\n\t\/*Place your JavaScript here to run when the page is unloaded*\/\n\n});"}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"SQ","PrimaryAttribute":"QID3","SecondaryAttribute":"This is some placeholder text that occurs before your mouse-tracked table.","TertiaryAttribute":null,"Payload":{"QuestionText":"This is some placeholder text that occurs before your mouse-tracked table.\n<table border = \"1\">\n\t<tbody>\n\t\t<tr>\n \t\t   <td style=\"width: 300px; height: 300px;\"><\/td>\n   \t\t   <td style=\"width: 300px; height: 300px;\"><\/td>\t\t\n\t\t<\/tr>\n\t<\/tbody>\n<\/table>\n\n","QuestionJS":"\/\/ Read lists from embedded data \n\tvar timeListString = \"${e:\/\/Field\/timeList}\";\n\tvar regionListString = \"${e:\/\/Field\/regionList}\";\n\tvar mainSequenceString = \"${e:\/\/Field\/mainSequence}\";\n\n\/\/ Convert to arrays (just sets type to array if empty)\n\tvar timeList = timeListString ? timeListString.split(\",\") : [];\n\tvar regionList = regionListString ? regionListString.split(\",\") : [];\n\tvar mainSequence = mainSequenceString ? mainSequenceString.split(\",\") : [];\n\n\/\/ Global timing tracking\nvar regionStartTimes = {};\nvar showTimeouts = {};\n\n\/\/ Delay variable\nvar delayInMs = parseInt(\"${e:\/\/Field\/delayInMs}\") || 0;\n\n\/\/ This is the number that will be appended to the embedded data list contents\nvar period = parseInt(\"${e:\/\/Field\/period}\") || 1;\n\n\/\/ Configuration object for all regions\n\/* \nYou should modify this code to reflect your study design.\nThe number of unique key-value mappings (e.g., \"Region1: {name: ...}\" is 1 such mapping) should reflect the number of mouse-tracked regions in your HTML. The key (e.g., \"Region1\") must match the id from each region in your HTML (e.g., \"<td id = \"Region1\" ...). The name value (for each key) should reflect some systematic naming convention that will allow you to identify the region. We use \"R1\", \"R2\", ... \"RK\" as names of Regions 1, 2, ... K. You will need to update your hiddenContent (hidden by default) and revealedContent (revealed by default) for each key. \n*\/\n\n\nvar regionConfig = {\n    \"Region1\": { \n        name: \"R1\", \n        hiddenContent: \"Region 1 Test\",\n        revealedContent: \"\"\t\t\n    },\n    \"Region2\": { \n        name: \"R2\", \n        hiddenContent: \"Region 2 Test\",\n        revealedContent: \"\"\t\t\n    }\n};\n\n\/\/ Function to initialize the HTML with revealedContent from JavaScript\nfunction initializeRegionContent() {\n    Object.keys(regionConfig).forEach(function(regionId) {\n        var element = document.getElementById(regionId);\n        if (element) {\n            element.textContent = regionConfig[regionId].revealedContent;\n        }\n    });\n}\n\n\/\/ Core functions\nfunction showRegion(regionId, hiddenContent) {\n    \/\/ Clear any pending show for this region\n    if (showTimeouts[regionId]) {\n        clearTimeout(showTimeouts[regionId]);\n        delete showTimeouts[regionId];\n    }\n    \n    \/\/ Delay show to stabilize fast mouse movements\n    showTimeouts[regionId] = setTimeout(function() {\n        var element = document.getElementById(regionId);\n        if (!element) return;\n        \n        \/\/ Only show if not already shown\n        if (!regionStartTimes[regionId]) {\n            element.innerHTML = hiddenContent;\n            regionStartTimes[regionId] = Date.now();\n        }\n        \n        delete showTimeouts[regionId];\n    }, delayInMs);\n}\n\nfunction hideRegion(regionId) {\n    \/\/ Clear any pending show for this region\n    if (showTimeouts[regionId]) {\n        clearTimeout(showTimeouts[regionId]);\n        delete showTimeouts[regionId];\n    }\n    \n    \/\/ Hide immediately - no delay\n    var element = document.getElementById(regionId);\n    if (!element) return;\n    \n    \/\/ Get the revealedContent from config\n    var config = regionConfig[regionId];\n    element.innerHTML = config.revealedContent;\n    \n    if (regionStartTimes[regionId]) {\n        \/\/ Calculate time spent\n        var timeSpentMs = Date.now() - regionStartTimes[regionId];\n        \n        \/\/ Update sequences\n        timeList.push(\"P\" + period + \"_\" + timeSpentMs);\n        regionList.push(\"P\" + period + \"_\" + config.name);\n        \n        \/\/ Update main sequence - add both region name and time\n        mainSequence.push(\"P\" + period + \"_\" + config.name + \":\" + timeSpentMs);\n        \n        \/\/ Write to the THREE embedded data fields\n        Qualtrics.SurveyEngine.setEmbeddedData(\"timeList\", timeList.join(\",\"));\n        Qualtrics.SurveyEngine.setEmbeddedData(\"regionList\", regionList.join(\",\"));\n        Qualtrics.SurveyEngine.setEmbeddedData(\"mainSequence\", mainSequence.join(\",\"));\n        \n        \/\/ Clean up\n        delete regionStartTimes[regionId];\n    }\n}\n\n\/\/ Dynamically generate show\/hide functions for each region\nObject.keys(regionConfig).forEach(function(regionId) {\n    var config = regionConfig[regionId];\n    \n    window[\"show\" + config.name] = function() {\n        showRegion(regionId, config.hiddenContent);\n    };\n    \n    window[\"hide\" + config.name] = function() {\n        hideRegion(regionId);\n    };\n});\n\n\nQualtrics.SurveyEngine.addOnload(function()\n{\n\t\/*Place your JavaScript here to run when the page loads*\/\n\ninitializeRegionContent();\t\t\n\t\n});\n\nQualtrics.SurveyEngine.addOnReady(function()\n{\n\t\/*Place your JavaScript here to run when the page is fully displayed*\/\n\t\nvar debugMode = parseInt(\"${e:\/\/Field\/debugMode}\") || 0;\n    \nif (debugMode == 1) {\n   var script = document.createElement('script');\n   script.src = 'https:\/\/cdn.jsdelivr.net\/gh\/QMT-code\/QMT\/QMT_debugging.js';\n   document.head.appendChild(script);\t\n}\t\n\t\n\t\nvar nextPeriod = period + 1;\nQualtrics.SurveyEngine.setEmbeddedData(\"period\", nextPeriod);\n\t\n\t\n    var tables = document.querySelectorAll('table');\n    tables.forEach(function(table) {\n        table.addEventListener('mouseleave', function() {\n            \/\/ Anytime a mouse leaves a table, ensure all regions are hidden\n            Object.keys(regionStartTimes).forEach(function(regionId) {\n                if (regionStartTimes[regionId]) {\n                    window[\"hide\" + regionConfig[regionId].name]();\n                }\n            });\n        });\n    });\t\n\t\n    var imagesToPreload = [\"https:\/\/www.ama.org\/wp-content\/themes\/ama\/assets\/images\/ama-logo-trans.png\", \"ANY OTHER URLS GO IN THIS ARRAY\"];\n    imagesToPreload.forEach(function(imageUrl) {\n        var img = new Image();\n        img.src = imageUrl;\n        \/\/ The browser will cache these automatically!\n    });\n\t\n\t\n\t\n});\n\nQualtrics.SurveyEngine.addOnUnload(function()\n{\n\t\/*Place your JavaScript here to run when the page is unloaded*\/\n\n});","DataExportTag":"No Mousetracking ","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"This is some placeholder text that occurs before your mouse-tracked table.","Choices":{"1":{"Display":"Click to write Choice 1"},"2":{"Display":"Click to write Choice 2"},"3":{"Display":"Click to write Choice 3"}},"ChoiceOrder":["1","2","3"],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID3"}},{"SurveyID":"SV_2biKutqjg6le5jU","Element":"STAT","PrimaryAttribute":"Survey Statistics","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"MobileCompatible":true,"ID":"Survey Statistics"}}]}